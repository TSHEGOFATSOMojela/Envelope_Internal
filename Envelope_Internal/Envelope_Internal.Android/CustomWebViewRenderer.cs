using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

using Xamarin.Forms;
using Xamarin.Forms.Platform.Android;
using System.IO;
using Java.IO;

using System.Net;
using Envelope_Internal;
using Envelope_Internal.Droid;

using Android.App;
using Android.Content;

using Android.Runtime;
using Android.Views;
using Android.Widget;
[assembly: ExportRenderer(typeof(CustomWebView), typeof(CustomWebViewRenderer))]
namespace Envelope_Internal.Droid
{
    public class CustomWebViewRenderer : WebViewRenderer
    {
        string filePath = Environment.GetFolderPath(Environment.SpecialFolder.Personal);

        //string filePath = "file:///android_asset/Content";
        //convert base64 string to byte
        static string base64BinaryStr
            = "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dENoYXIgMTIxL1dpZHRocyA3MCAwIFI+Pg0KZW5kb2JqDQoxMCAwIG9iag0KPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9BcmlhbE1UL0ZsYWdzIDMyL0l0YWxpY0FuZ2xlIDAvQXNjZW50IDkwNS9EZXNjZW50IC0yMTAvQ2FwSGVpZ2h0IDcyOC9BdmdXaWR0aCA0NDEvTWF4V2lkdGggMjY2NS9Gb250V2VpZ2h0IDQwMC9YSGVpZ2h0IDI1MC9MZWFkaW5nIDMzL1N0ZW1WIDQ0L0ZvbnRCQm94WyAtNjY1IC0yMTAgMjAwMCA3MjhdID4+DQplbmRvYmoNCjExIDAgb2JqDQo8PC9UeXBlL0ZvbnQvU3VidHlwZS9UcnVlVHlwZS9OYW1lL0YzL0Jhc2VGb250L0FyaWFsLUJvbGRJdGFsaWNNVC9FbmNvZGluZy9XaW5BbnNpRW5jb2RpbmcvRm9udERlc2NyaXB0b3IgMTIgMCBSL0ZpcnN0Q2hhciAzMi9MYXN0Q2hhciA4OS9XaWR0aHMgNzEgMCBSPj4NCmVuZG9iag0KMTIgMCBvYmoNCjw8L1R5cGUvRm9udERlc2NyaXB0b3IvRm9udE5hbWUvQXJpYWwtQm9sZEl0YWxpY01UL0ZsYWdzIDMyL0l0YWxpY0FuZ2xlIC0xMi9Bc2NlbnQgOTA1L0Rlc2NlbnQgLTIxMC9DYXBIZWlnaHQgNzI4L0F2Z1dpZHRoIDQ3OS9NYXhXaWR0aCAxOTUwL0ZvbnRXZWlnaHQgNzAwL1hIZWlnaHQgMjUwL0xlYWRpbmcgMzMvU3RlbVYgNDcvRm9udEJCb3hbIC01NjAgLTIxMCAxMzkwIDcyOF0gPj4NCmVuZG9iag0KMTMgMCBvYmoNCjw8L0F1dGhvcihuZWxsYWopIC9DcmVhdG9yKP7/AE0AaQBjAHIAbwBzAG8AZgB0AK4AIABXAG8AcgBkACAAMgAwADEAMykgL0NyZWF0aW9uRGF0ZShEOjIwMTYxMTA3MTUxODI5KzAyJzAwJykgL01vZERhdGUoRDoyMDE2MTEwNzE1MTgyOSswMicwMCcpIC9Qcm9kdWNlcij+/wBNAGkAYwByAG8AcwBvAGYAdACuACAAVwBvAHIAZAAgADIAMAAxADMpID4+DQplbmRvYmoNCjIwIDAgb2JqDQo8PC9UeXBlL09ialN0bS9OIDU0L0ZpcnN0IDQxMC9GaWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDgzMz4+DQpzdHJlYW0NCnic1VfbTttAEH1H4h/mD7w7e/FaQkhtARVxESJIfaj6YMIWIkKMjJHg73s2s9A8OHKzb5WSrHc8c+bi49mJDqSINTlNzKQVExvSzhBbYoWvwwdfT0Z54pqMw1eRVYG4IesNGSbHigxAakfGkofEGPIhkPFUWwgdBaXJBAoOwpoabQFBTQ1hk9zWZJP7ALEmrXGPA9YGcsTDjSNrSRuLvcPaJNekLcKGSDtlyELfIVQLPK9qcgqra1JmutYIDvg1wkVuOmhHDnjBQw94jYYe8FI8yI8VioBAWSEhQLBGfD7VqW7Ip0ohWY9ScUCaqJVBgh7FMgF6qJZFUh7lsg30gOdsKgdW5KGx9ylo6DewQyhGob4aJWaAIhTDwdHBQXWVlBVdV7Pqqrp5f47VbOhf58PxMj5VZz9J/aLq6p5M0jk83N/7BxO9uwnvbmJ2N7G7m7jdTfzuJvWYCagvJudfu7v3MbMwahY+zE5Hy6bS7TFD8G3CX1Pij7f6M1P+9Cj5phzarQ7dpMNR6k459Fsd1pMOR4k/5TBsdThJGT362kw4tFs5Yyc5o0dfuimHW0nz+R6dj7aRdf6ZyZlg+bHnh5FLlAMv6G0FDUEXdAQ92hImbEb7wYTN6Ds90awLzgQuORQKTgUuOBa44FzgAh5wAQ+4gAdcwAMu4IEp4IEp4IEpmQ4KeGAKeGAKeGAKeGAKeGAKeGAKeGDHeWA/bNp+GG9X607M0qyZZZGezVYWad3sZZEOLmdHmtnXi2ha0bSiaUXTZk1p+U7JIv6c+HOC4gTFCYoTFCcoTlCcoHhB8YLiBcULihcULyheULyg+Hxo5/ps1OOmj/G664bqulvGi/Y5TeupcqhbXK3vprk9Sdbnwse59Xn3Mr4NZ/GddIY+AdaqG2J1mX6OV3d/NzdQve3eqlmcD9X32N7FXq6Tzcf16Wq5WMXZQ5siTIIvKyC0w6Jb5X0/LH63uFjvfnT9423XPVZH3fz1CTGtJS8PMQ7y6C/aed9t7L894Hdjf7Rol939hmC2XNzFDV3xA7X7vn2qThb3r33MuV6+Pr3gP0r6Q/NZ3XJmyWycR9Y8SObxLg9deRTKA8r/ysH9vT8Qj+mDDQplbmRzdHJlYW0NCmVuZG9iag0KNjkgMCBvYmoNClsgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCA3MjIgMCAwIDcyMiA2NjcgNjExIDc3OCAwIDI3OCAwIDAgMCA4MzMgNzIyIDc3OCA2NjcgMCA3MjIgMCA2MTEgNzIyIDAgMCAwIDAgMCAwIDAgMCAwIDU1NiAwIDU1NiA2MTEgMCAwIDU1NiAzMzMgMCAwIDI3OCAwIDAgMjc4IDg4OSA2MTEgNjExIDYxMSAwIDM4OSA1NTYgMzMzIDYxMSAwIDAgMCA1NTZdIA0KZW5kb2JqDQo3MCAwIG9iag0KWyAyNzggMCAwIDAgMCAwIDAgMCAzMzMgMzMzIDAgMCAyNzggMCAyNzggMjc4IDAgNTU2IDU1NiA1NTYgNTU2IDU1NiA1NTYgNTU2IDAgMCAwIDI3OCAwIDAgMCAwIDAgNjY3IDAgMCA3MjIgMCA2MTEgMCA3MjIgMjc4IDAgMCAwIDAgMCA3NzggNjY3IDAgNzIyIDY2NyA2MTEgNzIyIDAgMCAwIDAgMCAwIDAgMCAwIDU1NiAwIDU1NiA1NTYgNTAwIDU1NiA1NTYgMjc4IDU1NiA1NTYgMjIyIDIyMiA1MDAgMjIyIDgzMyA1NTYgNTU2IDU1NiA1NTYgMzMzIDUwMCAyNzggNTU2IDUwMCA3MjIgMCA1MDBdIA0KZW5kb2JqDQo3MSAwIG9iag0KWyAyNzggMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAzMzMgMCAwIDAgMCAwIDAgNzIyIDcyMiA3MjIgNzIyIDY2NyAwIDc3OCA3MjIgMjc4IDAgMCA2MTEgODMzIDcyMiA3NzggNjY3IDAgNzIyIDY2NyA2MTEgNzIyIDAgMCAwIDY2N10gDQplbmRvYmoNCjcyIDAgb2JqDQo8PC9UeXBlL1hSZWYvU2l6ZSA3Mi9XWyAxIDQgMl0gL1Jvb3QgMSAwIFIvSW5mbyAxMyAwIFIvSURbPDQ2NDVEMDBBRUI0QzdGNDA4RUEzNkFGRkY5MzA3OTY3Pjw0NjQ1RDAwQUVCNEM3RjQwOEVBMzZBRkZGOTMwNzk2Nz5dIC9GaWx0ZXIvRmxhdGVEZWNvZGUvTGVuZ3RoIDE3OD4+DQpzdHJlYW0NCnicNdG3DQJRDIBhHzmH48hw5JxThUSHxCCMQMsciJYdqBiBnnXg4R9c+JMl24UtYuL9tkxOi3w5w12xXop9UzIHxZnBEa5KdqvkXHgq+YeIxyxzZAkrWMMCfi0bM1C4/CsLPOAFH/ghAEHIQRhCEIUIxCEGSUhAGlKQARuy4EAeClCEEpShAlVwoQZ1aEATWtCGDnShB30YwBBGMIYJTGEGc3PWyk7fUd0r7knkA44SFRANCmVuZHN0cmVhbQ0KZW5kb2JqDQp4cmVmDQowIDczDQowMDAwMDAwMDE0IDY1NTM1IGYNCjAwMDAwMDAwMTcgMDAwMDAgbg0KMDAwMDAwMDEyNSAwMDAwMCBuDQowMDAwMDAwMTgxIDAwMDAwIG4NCjAwMDAwMDA0NzAgMDAwMDAgbg0KMDAwMDAwNDc3MCAwMDAwMCBuDQowMDAwMDA0OTM2IDAwMDAwIG4NCjAwMDAwMDUxNjcgMDAwMDAgbg0KMDAwMDAwNTIyMCAwMDAwMCBuDQowMDAwMDA1MjczIDAwMDAwIG4NCjAwMDAwMDU0MzUgMDAwMDAgbg0KMDAwMDAwNTY2MiAwMDAwMCBuDQowMDAwMDA1ODM1IDAwMDAwIG4NCjAwMDAwMDYwNzUgMDAwMDAgbg0KMDAwMDAwMDAxNSA2NTUzNSBmDQowMDAwMDAwMDE2IDY1NTM1IGYNCjAwMDAwMDAwMTcgNjU1MzUgZg0KMDAwMDAwMDAxOCA2NTUzNSBmDQowMDAwMDAwMDE5IDY1NTM1IGYNCjAwMDAwMDAwMjAgNjU1MzUgZg0KMDAwMDAwMDAyMSA2NTUzNSBmDQowMDAwMDAwMDIyIDY1NTM1IGYNCjAwMDAwMDAwMjMgNjU1MzUgZg0KMDAwMDAwMDAyNCA2NTUzNSBmDQowMDAwMDAwMDI1IDY1NTM1IGYNCjAwMDAwMDAwMjYgNjU1MzUgZg0KMDAwMDAwMDAyNyA2NTUzNSBmDQowMDAwMDAwMDI4IDY1NTM1IGYNCjAwMDAwMDAwMjkgNjU1MzUgZg0KMDAwMDAwMDAzMCA2NTUzNSBmDQowMDAwMDAwMDMxIDY1NTM1IGYNCjAwMDAwMDAwMzIgNjU1MzUgZg0KMDAwMDAwMDAzMyA2NTUzNSBmDQowMDAwMDAwMDM0IDY1NTM1IGYNCjAwMDAwMDAwMzUgNjU1MzUgZg0KMDAwMDAwMDAzNiA2NTUzNSBmDQowMDAwMDAwMDM3IDY1NTM1IGYNCjAwMDAwMDAwMzggNjU1MzUgZg0KMDAwMDAwMDAzOSA2NTUzNSBmDQowMDAwMDAwMDQwIDY1NTM1IGYNCjAwMDAwMDAwNDEgNjU1MzUgZg0KMDAwMDAwMDA0MiA2NTUzNSBmDQowMDAwMDAwMDQzIDY1NTM1IGYNCjAwMDAwMDAwNDQgNjU1MzUgZg0KMDAwMDAwMDA0NSA2NTUzNSBmDQowMDAwMDAwMDQ2IDY1NTM1IGYNCjAwMDAwMDAwNDcgNjU1MzUgZg0KMDAwMDAwMDA0OCA2NTUzNSBmDQowMDAwMDAwMDQ5IDY1NTM1IGYNCjAwMDAwMDAwNTAgNjU1MzUgZg0KMDAwMDAwMDA1MSA2NTUzNSBmDQowMDAwMDAwMDUyIDY1NTM1IGYNCjAwMDAwMDAwNTMgNjU1MzUgZg0KMDAwMDAwMDA1NCA2NTUzNSBmDQowMDAwMDAwMDU1IDY1NTM1IGYNCjAwMDAwMDAwNTYgNjU1MzUgZg0KMDAwMDAwMDA1NyA2NTUzNSBmDQowMDAwMDAwMDU4IDY1NTM1IGYNCjAwMDAwMDAwNTkgNjU1MzUgZg0KMDAwMDAwMDA2MCA2NTUzNSBmDQowMDAwMDAwMDYxIDY1NTM1IGYNCjAwMDAwMDAwNjIgNjU1MzUgZg0KMDAwMDAwMDA2MyA2NTUzNSBmDQowMDAwMDAwMDY0IDY1NTM1IGYNCjAwMDAwMDAwNjUgNjU1MzUgZg0KMDAwMDAwMDA2NiA2NTUzNSBmDQowMDAwMDAwMDY3IDY1NTM1IGYNCjAwMDAwMDAwNjggNjU1MzUgZg0KMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDA3MjMwIDAwMDAwIG4NCjAwMDAwMDc0OTMgMDAwMDAgbg0KMDAwMDAwNzc5NiAwMDAwMCBuDQowMDAwMDA3OTc1IDAwMDAwIG4NCnRyYWlsZXINCjw8L1NpemUgNzMvUm9vdCAxIDAgUi9JbmZvIDEzIDAgUi9JRFs8NDY0NUQwMEFFQjRDN0Y0MDhFQTM2QUZGRjkzMDc5Njc+PDQ2NDVEMDBBRUI0QzdGNDA4RUEzNkFGRkY5MzA3OTY3Pl0gPj4NCnN0YXJ0eHJlZg0KODM1NA0KJSVFT0YNCnhyZWYNCjAgMA0KdHJhaWxlcg0KPDwvU2l6ZSA3My9Sb290IDEgMCBSL0luZm8gMTMgMCBSL0lEWzw0NjQ1RDAwQUVCNEM3RjQwOEVBMzZBRkZGOTMwNzk2Nz48NDY0NUQwMEFFQjRDN0Y0MDhFQTM2QUZGRjkzMDc5Njc+XSAvUHJldiA4MzU0L1hSZWZTdG0gNzk3NT4+DQpzdGFydHhyZWYNCjk5NzANCiUlRU9G";
        byte[] bytes = Convert.FromBase64String(base64BinaryStr);

        //write byte to file
        public static void WriteAllBytes(string path, byte[] bytess)
        {

            string path1 = System.IO.Path.Combine(path, "contract.pdf");
            if (System.IO.File.Exists(path1))
            {
                System.IO.File.Delete(path1);
            }
            FileStream stream = new FileStream(path1, FileMode.CreateNew);
            System.IO.BinaryWriter writer = new BinaryWriter(stream);
            writer.Write(bytess, 0, bytess.Length);
            writer.Close();
        }


        protected override void OnElementChanged(ElementChangedEventArgs<WebView> e)
        {
            WriteAllBytes(filePath, bytes);
            base.OnElementChanged(e);

            if (e.NewElement != null)
            {
                var customWebView = Element as CustomWebView;
                Control.Settings.AllowUniversalAccessFromFileURLs = true;
                Control.LoadUrl(string.Format("file:///android_asset/pdfjs/web/viewer.html?file={0}", string.Format(@"/data/data/com.companyname.Envelope_Internal/files/contract.pdf")));
            }
        }

    }
}